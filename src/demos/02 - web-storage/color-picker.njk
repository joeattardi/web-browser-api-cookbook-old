---
layout: "base.njk"
title: "Remembering an Input Value"
permalink: "/web-storage/color-picker.html"
tags: topNav
eleventyNavigation:
  order: 1
  key: colorPicker
  title: "Remembering an Input Value"
  parent: webStorage
---

{% set description %}
  <p>
      Remember a simple input value in local storage.
  </p>
  <ul class="list-disc pl-6">
    <li>The picker tries to read a color from local storage when the page first loads. If one is found, it's set as the default color.</li>
    <li>When the color value changes, it is immediately written to local storage.</li>
  </ul>
{% endset %}

{% set js %}
const colorPicker = document.querySelector('#colorPicker');

// Look for a previously saved color and set it, if found.
const savedColor = localStorage.getItem('savedColor');
if (savedColor) {
  colorPicker.value = savedColor;
}

// When the color is changed, save it to local storage.
colorPicker.addEventListener('change', () => {
  localStorage.setItem('savedColor', colorPicker.value);
});
{% endset %}

{% set css %}
#colorPicker {
  width: 3em;
  height: 3em;
  padding: 0.5em;
}
{% endset %}

{% set html %}
<div class="wrapper">
  <form>
    <div class="form-field">
      <label for="colorPicker">Background color</label>
      <input type="color" id="colorPicker">
    </div>
  </form>
</div>
{% endset %}

{% set javascript %}
  {{ js | safe }}
{% endset %}

{% import 'code-block.njk' as codeBlock %}

{% set code %}
  {{ codeBlock.codeBlock(
    'Persistence', 
    'javascript', 
    'Manages persisting the color value to local storage.', 
    js) 
  }}

  {{ codeBlock.codeBlock(
    'Form', 
    'html', 
    'Basic form including a color picker.', 
    html) 
  }}
{% endset %}

{% include "demo.njk" %}